{
Ultibo CP1250 (ANSI) interface unit.

Copyright (C) 2016 - SoftOz Pty Ltd.

Arch
====

 <All>

Boards
======

 <All>

Licence
=======

 LGPLv2.1 with static linking exception (See COPYING.modifiedLGPL.txt)

Credits
=======

 Information for this unit was obtained from:


References
==========


CP1250 ANSI (Central Europe)
============================

 Note: This unit automatically includes CP852OEM as the matching OEM code page.

}

{$mode delphi} {Default to Delphi compatible syntax}
{$H+}          {Default to AnsiString}
{$inline on}   {Allow use of Inline procedures}

{$IFNDEF FPC_DOTTEDUNITS}
unit CP1250ANSI;
{$ENDIF FPC_DOTTEDUNITS}

interface

{$IFDEF FPC_DOTTEDUNITS}
uses
  Core.GlobalConfig,
  Core.GlobalConst,
  Core.GlobalTypes,
  Core.Locale;
{$ELSE FPC_DOTTEDUNITS}
uses
  GlobalConfig,
  GlobalConst,
  GlobalTypes,
  Locale;
{$ENDIF FPC_DOTTEDUNITS}

{==============================================================================}
{Global definitions}
{$INCLUDE ..\core\GlobalDefines.inc}

{==============================================================================}
{const}
 {CP1250ANSI specific constants}

{==============================================================================}
{type}
 {CP1250ANSI specific types}

{==============================================================================}
{var}
 {CP1250ANSI specific variables}

{==============================================================================}
{Initialization Functions}
procedure CP1250ANSIInit;

{==============================================================================}
{CP1250ANSI Functions}

{==============================================================================}
{CP1250ANSI Helper Functions}

{==============================================================================}
{==============================================================================}

implementation

{$IFDEF FPC_DOTTEDUNITS}
uses
  CodePages.CP852OEM;
{$ELSE FPC_DOTTEDUNITS}
uses
  CP852OEM;
{$ENDIF FPC_DOTTEDUNITS}

{==============================================================================}
{==============================================================================}
var
 {CP1250ANSI specific variables}
 CP1250ANSIInitialized:Boolean;

 CPANSI1250:TCodeTable = (
  MaxCharSize:1;
  DefaultChar:(
  $3F,$00);
  LeadByte:(
  $00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00,$00);
  Values:(
  $0000,$0001,$0002,$0003,$0004,$0005,$0006,$0007,
  $0008,$0009,$000A,$000B,$000C,$000D,$000E,$000F,
  $0010,$0011,$0012,$0013,$0014,$0015,$0016,$0017,
  $0018,$0019,$001A,$001B,$001C,$001D,$001E,$001F,
  $0020,$0021,$0022,$0023,$0024,$0025,$0026,$0027,
  $0028,$0029,$002A,$002B,$002C,$002D,$002E,$002F,
  $0030,$0031,$0032,$0033,$0034,$0035,$0036,$0037,
  $0038,$0039,$003A,$003B,$003C,$003D,$003E,$003F,
  $0040,$0041,$0042,$0043,$0044,$0045,$0046,$0047,
  $0048,$0049,$004A,$004B,$004C,$004D,$004E,$004F,
  $0050,$0051,$0052,$0053,$0054,$0055,$0056,$0057,
  $0058,$0059,$005A,$005B,$005C,$005D,$005E,$005F,
  $0060,$0061,$0062,$0063,$0064,$0065,$0066,$0067,
  $0068,$0069,$006A,$006B,$006C,$006D,$006E,$006F,
  $0070,$0071,$0072,$0073,$0074,$0075,$0076,$0077,
  $0078,$0079,$007A,$007B,$007C,$007D,$007E,$007F,
  $20AC,$0081,$201A,$0083,$201E,$2026,$2020,$2021,
  $0088,$2030,$0160,$2039,$015A,$0164,$017D,$0179,
  $0090,$2018,$2019,$201C,$201D,$2022,$2013,$2014,
  $0098,$2122,$0161,$203A,$015B,$0165,$017E,$017A,
  $00A0,$02C7,$02D8,$0141,$00A4,$0104,$00A6,$00A7,
  $00A8,$00A9,$015E,$00AB,$00AC,$00AD,$00AE,$017B,
  $00B0,$00B1,$02DB,$0142,$00B4,$00B5,$00B6,$00B7,
  $00B8,$0105,$015F,$00BB,$013D,$02DD,$013E,$017C,
  $0154,$00C1,$00C2,$0102,$00C4,$0139,$0106,$00C7,
  $010C,$00C9,$0118,$00CB,$011A,$00CD,$00CE,$010E,
  $0110,$0143,$0147,$00D3,$00D4,$0150,$00D6,$00D7,
  $0158,$016E,$00DA,$0170,$00DC,$00DD,$0162,$00DF,
  $0155,$00E1,$00E2,$0103,$00E4,$013A,$0107,$00E7,
  $010D,$00E9,$0119,$00EB,$011B,$00ED,$00EE,$010F,
  $0111,$0144,$0148,$00F3,$00F4,$0151,$00F6,$00F7,
  $0159,$016F,$00FA,$0171,$00FC,$00FD,$0163,$02D9)
 );

 CP1250Lower:TLowerTable = (
  LowerID:1250;
  Values:(
  $00,$01,$02,$03,$04,$05,$06,$07,$08,$09,$0A,$0B,$0C,$0D,$0E,$0F,
  $10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$1A,$1B,$1C,$1D,$1E,$1F,
  $20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$2A,$2B,$2C,$2D,$2E,$2F,
  $30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$3A,$3B,$3C,$3D,$3E,$3F,
  $40,$61,$62,$63,$64,$65,$66,$67,$68,$69,$6A,$6B,$6C,$6D,$6E,$6F,
  $70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$7A,$5B,$5C,$5D,$5E,$5F,
  $60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$6A,$6B,$6C,$6D,$6E,$6F,
  $70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$7A,$7B,$7C,$7D,$7E,$7F,
  $80,$81,$82,$83,$84,$85,$86,$87,$88,$89,$9A,$8B,$9C,$9D,$9E,$9F,
  $90,$91,$92,$93,$94,$95,$96,$97,$98,$99,$9A,$9B,$9C,$9D,$9E,$9F,
  $A0,$A1,$A2,$B3,$A4,$B9,$A6,$A7,$A8,$A9,$BA,$AB,$AC,$AD,$AE,$BF,
  $B0,$B1,$B2,$B3,$B4,$B5,$B6,$B7,$B8,$B9,$BA,$BB,$BE,$BD,$BE,$BF,
  $E0,$E1,$E2,$E3,$E4,$E5,$E6,$E7,$E8,$E9,$EA,$EB,$EC,$ED,$EE,$EF,
  $F0,$F1,$F2,$F3,$F4,$F5,$F6,$D7,$F8,$F9,$FA,$FB,$FC,$FD,$FE,$DF,
  $E0,$E1,$E2,$E3,$E4,$E5,$E6,$E7,$E8,$E9,$EA,$EB,$EC,$ED,$EE,$EF,
  $F0,$F1,$F2,$F3,$F4,$F5,$F6,$F7,$F8,$F9,$FA,$FB,$FC,$FD,$FE,$FF)
 );

 CP1250Upper:TUpperTable = (
  UpperID:1250;
  Values:(
  $00,$01,$02,$03,$04,$05,$06,$07,$08,$09,$0A,$0B,$0C,$0D,$0E,$0F,
  $10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$1A,$1B,$1C,$1D,$1E,$1F,
  $20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$2A,$2B,$2C,$2D,$2E,$2F,
  $30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$3A,$3B,$3C,$3D,$3E,$3F,
  $40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$4A,$4B,$4C,$4D,$4E,$4F,
  $50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$5A,$5B,$5C,$5D,$5E,$5F,
  $60,$41,$42,$43,$44,$45,$46,$47,$48,$49,$4A,$4B,$4C,$4D,$4E,$4F,
  $50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$5A,$7B,$7C,$7D,$7E,$7F,
  $80,$81,$82,$83,$84,$85,$86,$87,$88,$89,$8A,$8B,$8C,$8D,$8E,$8F,
  $90,$91,$92,$93,$94,$95,$96,$97,$98,$99,$8A,$9B,$8C,$8D,$8E,$8F,
  $A0,$A1,$A2,$A3,$A4,$A5,$A6,$A7,$A8,$A9,$AA,$AB,$AC,$AD,$AE,$AF,
  $B0,$B1,$B2,$A3,$B4,$B5,$B6,$B7,$B8,$A5,$AA,$BB,$BC,$BD,$BC,$AF,
  $C0,$C1,$C2,$C3,$C4,$C5,$C6,$C7,$C8,$C9,$CA,$CB,$CC,$CD,$CE,$CF,
  $D0,$D1,$D2,$D3,$D4,$D5,$D6,$D7,$D8,$D9,$DA,$DB,$DC,$DD,$DE,$DF,
  $C0,$C1,$C2,$C3,$C4,$C5,$C6,$C7,$C8,$C9,$CA,$CB,$CC,$CD,$CE,$CF,
  $D0,$D1,$D2,$D3,$D4,$D5,$D6,$F7,$D8,$D9,$DA,$DB,$DC,$DD,$DE,$FF)
 );

 CP1250TO852:TTransTable = (
  TransID:852;
  Values:(
  $00,$01,$02,$03,$04,$05,$06,$07,$08,$09,$0A,$0B,$0C,$0D,$0E,$0F,
  $10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$1A,$1B,$1C,$1D,$1E,$1F,
  $20,$21,$22,$23,$24,$25,$26,$27,$28,$29,$2A,$2B,$2C,$2D,$2E,$2F,
  $30,$31,$32,$33,$34,$35,$36,$37,$38,$39,$3A,$3B,$3C,$3D,$3E,$3F,
  $40,$41,$42,$43,$44,$45,$46,$47,$48,$49,$4A,$4B,$4C,$4D,$4E,$4F,
  $50,$51,$52,$53,$54,$55,$56,$57,$58,$59,$5A,$5B,$5C,$5D,$5E,$5F,
  $60,$61,$62,$63,$64,$65,$66,$67,$68,$69,$6A,$6B,$6C,$6D,$6E,$6F,
  $70,$71,$72,$73,$74,$75,$76,$77,$78,$79,$7A,$7B,$7C,$7D,$7E,$7F,
  $5F,$5F,$27,$5F,$22,$07,$C5,$C5,$5F,$25,$E6,$3C,$97,$9B,$A6,$8D,
  $5F,$27,$27,$22,$22,$07,$2D,$2D,$5F,$74,$E7,$3E,$98,$9C,$A7,$AB,
  $FF,$F3,$F4,$9D,$CF,$A4,$7C,$F5,$F9,$63,$B8,$AE,$AA,$F0,$52,$BD,
  $F8,$2B,$F2,$88,$EF,$75,$14,$07,$F7,$A5,$AD,$AF,$95,$F1,$96,$BE,
  $E8,$B5,$B6,$C6,$8E,$91,$8F,$80,$AC,$90,$A8,$D3,$B7,$D6,$D7,$D2,
  $D1,$E3,$D5,$E0,$E2,$8A,$99,$9E,$FC,$DE,$E9,$EB,$9A,$ED,$DD,$E1,
  $EA,$A0,$83,$C7,$84,$92,$86,$87,$9F,$82,$A9,$89,$D8,$A1,$8C,$D4,
  $D0,$E4,$E5,$A2,$93,$8B,$94,$F6,$FD,$85,$A3,$FB,$81,$EC,$EE,$FA)
 );

{==============================================================================}
{==============================================================================}
{Initialization Functions}
procedure CP1250ANSIInit;
begin
 {}
 {Check Initialized}
 if CP1250ANSIInitialized then Exit;

 {Load Default Code Pages}
 LoadPage(CP_ANSI_1250,@CPANSI1250,@CP1250Lower,@CP1250Upper);
 InstallTrans(CP_ANSI_1250,@CP1250TO852);

 {Check Environment Variables}
 //To Do //Check CODEPAGE_ANSI_DEFAULT //If 1250 then SetACP(1250) etc
         //For 852 OEM check CODEPAGE_OEM_DEFAULT //If 852 then SetOEMCP(852) etc

 CP1250ANSIInitialized:=True;
end;

{==============================================================================}
{==============================================================================}
{CP1250ANSI Functions}

{==============================================================================}
{==============================================================================}
{CP1250ANSI Helper Functions}

{==============================================================================}
{==============================================================================}

initialization
 CP1250ANSIInit;

{==============================================================================}

finalization
 {Nothing}

{==============================================================================}
{==============================================================================}

end.
